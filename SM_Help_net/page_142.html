<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>����������</TITLE>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<META content="MSHTML 6.00.6000.20815" name=GENERATOR><LINK href="_template.css" 
rel=stylesheet></HEAD>
<BODY>
<DIV id=nsbanner>
<DIV id=bannerrow1>
<TABLE class=bannerparthead>
  <TBODY>
  <TR id=hdr>
    <TD class=runninghead noWrap>
      <DIV id=titlerow>
      <H1 class=dtH1>Репликация</H1></DIV></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV id=nstext>
<P>
<UL><FONT face=Tahoma size=2></FONT><FONT face=Tahoma size=2>Для торговых 
  сетей, которые имеют более одной торговой точки и которые хотят вести весь 
  учет в одной базе данных существует решение, которое называется 
  репликация.</FONT></UL>
<UL><FONT face=Tahoma size=2>Репликация - это процесс при котором базы данных 
  различных магазинов приводятся к состоянию идентичности, 
  т.е.&nbsp;осуществляется обмен данными между торговыми точками. </FONT></UL>
<UL><FONT face=Tahoma size=2><IMG src="msdxm_ocx_5295.GIF">&nbsp;Важно !!! 
  Прочитайте все до того как что-нибудь начинать делать с системой !!! 
  <BR>Необходимо понимать, что ведение учета в распределенной базе данных 
  отличается от локального и требует повышенного внимания и корректности 
  работы.<BR>Принимается за исходные данные следующее: есть "центральный офис" с 
  главной базой данных и подчиненные торговые точки, которые работают со своими 
  копиями<BR>(репликами) основной базы данных.<BR>Для прозрачности работы 
  НЕОБХОДИМО все справочники заполнять и в дальнейшем сопровождать в центральном 
  офисе, а не на торговых точках. Впрочем данная система не<BR>запрещает 
  редактировать и создавать новые элементы справочников и на удаленных торговых 
  точках, за исключением операции удаления этих элементов, а также добавления 
  новых строк и удаления старых из уже существующих документов. Эти операции на 
  подчиненных точках запрещены.<BR>Каждую удаленную торговую точку НЕОБХОДИМО 
  выделить в программе в ОТДЕЛЬНЫЙ СКЛАД, только тогда можно избежать путаницы с 
  остатками товара.<BR>Если товар поступает сразу на удаленный склад, то 
  приходная накладная сразу будет адресована на него и другие точки не смогут 
  ошибочно продавать этот товар. Если же<BR>товар поступает на центральный офис 
  и потом распределяется между удаленными торговыми точками, то вначале делаете 
  приходную накладную на склад центрального офиса, а затем создаете внутренние 
  перемещения по распределению товара между удаленными складами.</FONT></UL>
<UL><FONT face=Tahoma size=2>
  <UL><FONT face=Tahoma size=2></FONT></UL>
  <UL></FONT></UL><FONT face=Tahoma size=2>
  <DIV>В целом, можно описать порядок проведения обмена данными (репликации) 
  так:<BR>1. В каждом филиале с помощью репликатора вы создаете специальный файл 
  - пакет&nbsp;репликации и отправляете его любым способом в центральный 
  офис.&nbsp;После создания он находится в каталоге 
  C:\SuperMarket\Replication\Out&nbsp;&nbsp; и в его имени&nbsp;указан диапазон 
  дат/времени за который реплицируются изменения с базы данных.&nbsp;Этот пакет 
  содержит все изменения в удаленной базе с момента предыдущей репликации.<BR>2. 
  В центральном офисе копируете этот файл в каталог 
  C:\SuperMarket\Replication\In&nbsp;&nbsp;и с помощью репликатора импортируете 
  эти изменения в базу центрального офиса.&nbsp;И так повторяете для каждого из 
  филиалов. Теперь в центральном офисе есть данные из всех филиалов.<BR>3. В 
  центральном офисе вы создаете пакет репликации (свой для каждого из 
  филиалов,&nbsp;что указано в его названии) и отправляете его филиалам.<BR>4. 
  Филиалы импортируют эти пакеты в свою базу данных с помощью своих 
  репликаторов. Теперь в филиалах есть новые данные из центрального офиса и 
  других филиалов.</DIV><IMG src="msdxm_ocx_5295.GIF">&nbsp;Помните !!!&nbsp; 
  Все действия по обмену данными и подготовке к репликации производить&nbsp;при 
  отключенных от базы данных пользователях !!!</FONT></UL>
<UL><BR><FONT face=Tahoma size=2>Подготовительные действия по внедрению 
  системы репликации:<BR>1. В центральном офисе отключить пользователей от базы, 
  выгрузить SuperMarket,&nbsp;создать резервную копию базы, провести 
  backup/restore<BR>2. Сделать копию базы данных и передать ее на удаленную 
  точку</FONT></UL>
<UL><FONT face=Tahoma size=2>3. <STRONG>Действия по подготовке центральной 
  базы</STRONG> <STRONG>данных:<BR></STRONG>&nbsp;&nbsp; 3.1. Скопировать 
  библиотеку FreeAdhocUDF.dll в папку UDF, расположенную в папке 
  где<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; был проинсталлирован 
  Firebird SQL Server на сервере локальной сети<BR>&nbsp;&nbsp; 3.2. Скопировать 
  файлы ZipDll.dll, UnzDll.dll в каталог C:\SuperMarket<BR>&nbsp;&nbsp; 3.3. В 
  каталоге C:\SuperMarket создать папку Replication, а в ней три вложенных 
  папки:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; In, Out, BackUp. 
  Внутри папки BackUp также создать папки In и Out.</FONT></UL>
<UL><FONT face=Tahoma size=2><IMG src="repl1.GIF"><BR>&nbsp;&nbsp; 3.4. 
  Запустить ПО SuperMarket<BR>&nbsp;&nbsp; 3.5. Установить апдейт базы данных 
  PrepareReplication.sql<BR>&nbsp;&nbsp; 3.6. Установить апдейт базы данных 
  CreateReplicationProc.sql<BR>&nbsp;&nbsp; 3.7. Установить апдейт базы данных 
  ExecReplicationProc.sql&nbsp; <BR>&nbsp;&nbsp; 3.8. Зайти в меню 
  "Сервис/Настройки" и на вкладке "Репликация" установить птичку "Разрешить 
  репликацию". Убедиться, что переключатель роли данной торговой точки&nbsp;на 
  той же вкладке установлен на первом пункте - "Центральный офис, главная база 
  данных".<BR>&nbsp;&nbsp; 3.9. Сохранить настройки и перезапустить 
  программу.</FONT></UL>
<UL><FONT face=Tahoma size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Программа готова к работе в режиме репликации.</FONT></UL>
<UL><FONT face=Tahoma size=2>4. <STRONG>Действия по подготовке удаленной базы 
  данных:</STRONG><BR>&nbsp;&nbsp; 4.1. Скопировать библиотеку FreeAdhocUDF.dll 
  в папку UDF, расположенную в папке где&nbsp;был проинсталлирован Firebird SQL 
  Server на сервере локальной сети<BR>&nbsp;&nbsp; 4.2. Скопировать файлы 
  ZipDll.dll, UnzDll.dll в каталог C:\SuperMarket<BR>&nbsp;&nbsp; 4.3. В 
  каталоге C:\SuperMarket создать папку Replication, а в ней три вложенных 
  папки:&nbsp;In, Out, BackUp. Внутри папки BackUp также создать папки In и 
  Out.<BR>&nbsp;&nbsp; 4.4. Запустить ПО SuperMarket<BR>&nbsp;&nbsp; 4.5. 
  Установить апдейт базы данных PrepareReplication.sql<BR>&nbsp;&nbsp; 4.6. 
  Установить апдейт базы данных CreateReplicationProc.sql<BR>---&gt; ОБРАТИТЕ 
  ВНИМАНИЕ !!!<BR>&nbsp;&nbsp; 4.7. Установить апдейт базы данных 
  ExecReplicationProc2.sql или ExecReplicationProc3.sql 
  или&nbsp;ExecReplicationProc4.sql&nbsp;&nbsp; и т.д. в зависимости от номера 
  филиала<BR>&nbsp;&nbsp; 4.8. Установить апдейт базы данных SetGenerators2.sql 
  или SetGenerators3.sql или&nbsp;SetGenerators4.sql&nbsp;&nbsp; и т.д. в 
  зависимости от номера филиала<BR>&nbsp;&nbsp; 4.9. Зайти в меню 
  "Сервис/Настройки" и на вкладке "Репликация" установить птичку&nbsp;"Разрешить 
  репликацию". Установить переключатель роли данной торговой точки на той 
  <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; же вкладке на второй 
  пункт - "Удаленный филиал, подчиненная база 
  данных...".<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Там же укажите 
  номер филиала в выпадающем списке.<BR>---&gt;<BR>&nbsp;&nbsp; 4.10. Сохранить 
  настройки и перезапустить 
  программу.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Программа 
  готова к работе в режиме репликации.</FONT></UL>
<UL><FONT face=Tahoma size=2><IMG src="msdxm_ocx_5295.GIF">&nbsp;ОБРАТИТЕ 
  ВНИМАНИЕ !!!<BR>пункты 3.2., 3.3., 3.8. и 3.9. для центрального офиса и 
  <BR>пункты 4.2., 4.3., 4.9. и 4.10 для удаленных торговых точек<BR>НЕОБХОДИМО 
  СДЕЛАТЬ НА КАЖДОМ КОМПЬЮТЕРЕ СООТВЕТСТВУЮЩЕЙ ЛОКАЛЬНОЙ СЕТИ !</FONT></UL>
<UL><FONT face=Tahoma size=2>В дальнейшем для работы с формированием и 
  вставкой пакетов репликации используется форма из меню "Сервис/Репликация" 
  главной формы программы.</FONT></UL>
<UL><IMG src="repl2.GIF"></UL>
<UL><BR></UL>
<P></P></DIV>
<DIV class=footer>
<HR>

<P>&nbsp;Copyright ©2015 <A href="" target=_blank></A>. All Rights Reserved. 
</P></DIV></BODY></HTML>
